<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ticker (timmy-lwt.Timmy_lwt.Ticker)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">timmy-lwt</a> &#x00BB; <a href="../index.html">Timmy_lwt</a> &#x00BB; Ticker</nav><header class="odoc-preamble"><h1>Module <code><span>Timmy_lwt.Ticker</span></code></h1><p>Tickers call a function periodically.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A ticker</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : 
  <span><span class="optlabel">?immediate</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?skip</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?start</span>:<span><a href="../../../timmy/Timmy/Time/index.html#type-t">Timmy.Time.t</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">period</span>:<a href="../../../timmy/Timmy/Span/index.html#type-t">Timmy.Span.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../../timmy/Timmy/Time/index.html#type-t">Timmy.Time.t</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>make ?immediate ?start ~period f</code> ticks every <code>period</code> and calls <code>f</code> on every tick.</p><p><code>start</code> determines whether the ticker should start immediately, and is equivalent to immediately calling <code>start ~start t</code>. Defaults to <code>Some (Clock.now ())</code>.</p><p><code>skip</code> determines whether to drop duplicate ticks if multiple are due upon scheduling time, which can easily happen if the host is put to sleep for long enough. In such case, only the most recent tick is run. Defaults to <code>true</code>.</p><p>If <code>immediate</code>, <code>f</code> will be called on the first tick (ie. immediately when the ticker is started), otherwise it will wait for the second tick. Defaults to <code>true</code>.</p><p>Tickers have no drift: tick are always called a multiple of <code>period</code> after <code>start</code> independently of the run duration of <code>f</code> or individual ticks scheduling approximations.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pause"><a href="#val-pause" class="anchor"></a><code><span><span class="keyword">val</span> pause : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>pause t</code> stops <code>t</code>'s tick from triggering.</p><p>When restarted without a start time, untriggered ticks are considered for scheduling:</p><ul><li>If no tick was overlooked during the pause, the behavior is the same as if no pause happened.</li><li>If one ore more ticks were overlooked and <code>skip t</code>, the latest is run immediately and normal tick scheduling resumse.</li><li>If one ore more ticks were overlooked and <code>not (skip t)</code>, they are all run immediately in order and normal tick scheduling resumes.</li></ul><p>Noop if <code>t</code> was already stopped or paused.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stop"><a href="#val-stop" class="anchor"></a><code><span><span class="keyword">val</span> stop : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>stop t</code> stops triggering <code>t</code>'s ticks.</p><p>Noop if <code>t</code> was already stopped.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-start"><a href="#val-start" class="anchor"></a><code><span><span class="keyword">val</span> start : <span><span class="optlabel">?start</span>:<a href="../../../timmy/Timmy/Time/index.html#type-t">Timmy.Time.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>start ?start t</code> resumes ticking using the same parameters semantics of <a href="#val-make"><code>make</code></a>.</p><p>Noop if <code>t</code> was already running.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-finalize"><a href="#val-finalize" class="anchor"></a><code><span><span class="keyword">val</span> finalize : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>finalize t</code> unrevokably stops <code>t</code>.</p><p>This must be called to disposes of all of <code>t</code>'s ressources.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-skip"><a href="#val-skip" class="anchor"></a><code><span><span class="keyword">val</span> skip : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>skip t</code> is whether <code>t</code> was created with <code>skip</code>.</p></div></div></div></body></html>
